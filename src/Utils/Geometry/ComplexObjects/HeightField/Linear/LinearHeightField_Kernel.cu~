#include <LinearHeightField_Kernel.cuh>
/****************************************************************************************************************************/
/****************************************************************************************************************************/
extern "C"
{
/****************************************************************************************************************************/
/****************************************************************************************************************************/
__global__ void LinearHeightField_calculateHeight_Kernel(double3* pos, double a, double b, uint nbPos)
{
	uint index =   __mul24(blockIdx.x,blockDim.x) + threadIdx.x;
	if(index < nbPos){
		pos[index].y += a*pos[index].x + b*pos[index].z;
	}		
}
/****************************************************************************************************************************/
/****************************************************************************************************************************/
__global__ void   LinearHeightField_calculateHeight_Normales_Kernel(double3* m_pos, double3* nx0, double3* nx1, 
			  	double3* nz0, double3* nz1, double a, double b, uint nbPos)
{
	uint index =   __mul24(blockIdx.x,blockDim.x) + threadIdx.x;
	if(index < nbPos){
		pos[index].y += a*pos[index].x + b*pos[index].z;
		nx0[index].y += a*nx0[index].x + b*nx0[index].z;
		nx1[index].y += a*nx1[index].x + b*nx1[index].z;
		nz0[index].y += a*nz0[index].x + b*nz0[index].z;
		nz1[index].y += a*nz1[index].x + b*nz1[index].z;
	}	
}
/****************************************************************************************************************************/
/****************************************************************************************************************************/
}
